<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>星驰笔记本</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript" charset="utf-8" src="../../ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../ueditor.all.min.js"> </script>
    <script type="text/javascript" charset="utf-8" src="../../lang/zh-cn/zh-cn.js"></script>
	<script src="../../js/jquery.min.js"></script>
	
    <style type="text/css">
		table{
			border:0;
		}
		#title{
			width:50%;
		}
        #content{
            width:90%;
        }
    </style>
	<script type="text/javascript">
		var ue = UE.getEditor('content');
		ue.addListener("ready", function () {
			var noteId = location.href.substring(location.href.lastIndexOf("id=") + 3);
			$.ajax({
				  type: 'GET',
				  url: "http://127.0.0.1:8080/note/api/v1/note/get/" + noteId,
				  success: function(data){
					$("#title").val(data.title);
					ue.setContent(data.content);
				  },
				  contentType: "application/json;charset=utf-8"
			});
		});
		
	</script>
	<script type="text/javascript">
		function doSubmit(){
			var title = $("#title").val();
			var htmlContent = UE.getEditor('content').getContent();
			var data = {
				"title": title,
				"content": htmlContent,
				"type": 1
			  };
		    $.ajax({
				  type: 'POST',
				  url: "http://127.0.0.1:8080/note/api/v1/note/create",
				  data: JSON.stringify(data),
				  success: function(){
					alert();
				  },
				  contentType: "application/json;charset=utf-8"
			});
		}
	</script>
	
</head>
<body>
	<table>
		<tr>
			<td align="left" valign="top"><label for="title">标题：</label></td>
			<td><input id="title" name="title" type="text"/><br/></td>
		</tr>
		<tr>
			<td align="left" valign="top"><label for="content">内容：</label></td>
			<td><div id="content"></div></td>
		</tr>
	<tr>
		<td></td>
		<td><button onclick="doSubmit()">创建</button></td>
	</tr>
	</table>
</body>
</html>